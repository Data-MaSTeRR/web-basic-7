# ğŸ“„ Express ì‹¤ìŠµ: ë™ì  ë¼ìš°íŠ¸, ì—ëŸ¬ ì²˜ë¦¬, ì½”ë“œ ë¦¬íŒ©í„°ë§

ì´ ë¬¸ì„œëŠ” Express.jsë¥¼ ì‚¬ìš©í•´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ë©´ì„œ í•™ìŠµí•œ **ë™ì  ë¼ìš°íŠ¸ ì²˜ë¦¬**, **ì—ëŸ¬ ì²˜ë¦¬**, **ë°˜ë³µ ì½”ë“œ ë¦¬íŒ©í„°ë§** ë°©ë²•ì„ ì •ë¦¬í•œ READMEì…ë‹ˆë‹¤.

---

## ğŸš€ 1ï¸âƒ£ Expressì—ì„œ ë™ì  ë¼ìš°íŠ¸

### ğŸ”· ë™ì  ë¼ìš°íŠ¸ë€?

URLì˜ ì¼ë¶€ë¶„ì„ **ë³€ìˆ˜ì²˜ëŸ¼ ì²˜ë¦¬**í•´, ìš”ì²­ ê²½ë¡œì— ë”°ë¼ ë™ì ìœ¼ë¡œ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ë¼ìš°íŠ¸ì…ë‹ˆë‹¤.

ì˜ˆ: `/restaurants/:id`

### âœ¨ ì˜ˆì œ ì½”ë“œ

```js
app.get('/restaurants/:id', (req, res) => {
  const restaurantId = req.params.id;
  res.render('restaurant-detail', { rid: restaurantId });
});
```

* `:id` â†’ URLì˜ í•œ ë¶€ë¶„ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì˜´.
* `req.params.id` â†’ ì‹¤ì œ ìš”ì²­ì—ì„œ ì „ë‹¬ëœ ê°’.
* í´ë¼ì´ì–¸íŠ¸ê°€ `/restaurants/r1`ì— ì ‘ì†í•˜ë©´ `restaurantId`ëŠ” `r1`ì´ ë©ë‹ˆë‹¤.

### ğŸ’¡ í¬ì¸íŠ¸

* URL íŒ¨í„´ì„ ë™ì ìœ¼ë¡œ ë§¤ì¹­í•´ ì¬ì‚¬ìš©ì„±ì„ ë†’ì„.
* ë·°ì—ì„œëŠ” `<a href="/restaurants/<%= restaurant.id %>">` ì²˜ëŸ¼ ë™ì  ë§í¬ ì‘ì„±.

---

## ğŸ©¹ 2ï¸âƒ£ ì—ëŸ¬ ì²˜ë¦¬

### ğŸ”· ì—ëŸ¬ ì²˜ë¦¬ë€?

ì„œë²„ ìš”ì²­ ì²˜ë¦¬ ì¤‘ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜(ì˜ˆ: ì˜ëª»ëœ ë¼ìš°íŠ¸, ì„œë²„ ì˜¤ë¥˜)ë¥¼ ì‚¬ìš©ìì—ê²Œ ì ì ˆíˆ ì•ˆë‚´í•˜ëŠ” í˜ì´ì§€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒ.

### âœ¨ ì˜ˆì œ ì½”ë“œ

```js
// 404 Not Found í•¸ë“¤ëŸ¬
app.use((req, res, next) => {
  res.status(404).render('404');
});

// 500 Internal Server Error í•¸ë“¤ëŸ¬
app.use((err, req, res, next) => {
  console.error(err);
  res.status(500).render('500');
});
```

### ğŸ’¡ í¬ì¸íŠ¸

* 404ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬.
* 500ì€ ì„œë²„ ë¡œì§ì—ì„œ ë°œìƒí•œ ì˜¤ë¥˜ì— ëŒ€í•œ ì²˜ë¦¬.
* ì—ëŸ¬ í•¸ë“¤ëŸ¬ëŠ” ë°˜ë“œì‹œ ëª¨ë“  ë¼ìš°íŠ¸ ì •ì˜ **ë’¤ì—** ì„ ì–¸í•´ì•¼ í•¨.
* `views/404.ejs`ì™€ `views/500.ejs` íŒŒì¼ì´ ìˆì–´ì•¼ ë Œë”ë§ ê°€ëŠ¥.

ğŸ“Œ ì™œ 4ê°œì¸ê°€?

ExpressëŠ” í•¨ìˆ˜ì˜ ì¸ì ê°œìˆ˜ë¡œ ê·¸ í•¨ìˆ˜ê°€ ì¼ë°˜ ë¯¸ë“¤ì›¨ì–´ì¸ì§€ ì—ëŸ¬ ì²˜ë¦¬ ë¯¸ë“¤ì›¨ì–´ì¸ì§€ êµ¬ë¶„í•©ë‹ˆë‹¤.

ë³´í†µì˜ ë¯¸ë“¤ì›¨ì–´ëŠ” (req, res, next) (3ê°œ)ë¡œ ì‘ì„±ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì—ëŸ¬ ì²˜ë¦¬ ë¯¸ë“¤ì›¨ì–´ëŠ” ë°˜ë“œì‹œ (err, req, res, next) (4ê°œ)ë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ Expressê°€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë‹¤ê°€ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ìë™ìœ¼ë¡œ ì´ í•¨ìˆ˜ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.

---

## ğŸ”„ 3ï¸âƒ£ ë°˜ë³µë˜ëŠ” ì½”ë“œ ë¦¬íŒ©í„°ë§

### ğŸ”· ì™œ ë¦¬íŒ©í„°ë§?

* ë™ì¼í•œ ì½”ë“œê°€ ì—¬ëŸ¬ íŒŒì¼ì— ì¡´ì¬ â†’ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€.
* ê´€ì‹¬ì‚¬ë³„ë¡œ ì½”ë“œ ë¶„ë¦¬ â†’ ê°€ë…ì„± ë° ì¬ì‚¬ìš©ì„± í–¥ìƒ.

### âœ¨ ë°©ë²•

#### ğŸ“ `/util` í´ë”

* íŒŒì¼ ì½ê¸°/ì“°ê¸°ì™€ ê°™ì€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ì„ ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬.

ì˜ˆ: `util/restaurant-data.js`

```js
const fs = require('fs');
const path = require('path');

function getStoredRestaurants() {
  const filePath = path.join(__dirname, '..', 'data', 'restaurants.json');
  const fileData = fs.readFileSync(filePath);
  return JSON.parse(fileData);
}

module.exports = { getStoredRestaurants };
```

#### ğŸ“ `/routes` í´ë”

* ê° ìš”ì²­ ê²½ë¡œë³„ ë¼ìš°í„°ë¥¼ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬.

ì˜ˆ: `routes/restaurants.js`

```js
const express = require('express');
const { getStoredRestaurants } = require('../util/restaurant-data');

const router = express.Router();

router.get('/', (req, res) => {
  const restaurants = getStoredRestaurants();
  res.render('restaurants', { restaurants });
});

module.exports = router;
```

### ğŸ’¡ í¬ì¸íŠ¸

* ê´€ì‹¬ì‚¬ë³„ í´ë”(`routes`, `util`, `views`)ë¡œ ì •ë¦¬.
* `app.js`ì—ì„œëŠ” í•„ìš”í•œ ë¼ìš°í„°ë§Œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©.

```js
const restaurantRoutes = require('./routes/restaurants');
app.use('/restaurants', restaurantRoutes);
```

---

## ğŸ“Œ ìš”ì•½

âœ… **ë™ì  ë¼ìš°íŠ¸**ë¡œ URL ë³€ìˆ˜ ì²˜ë¦¬ ë° ì¬ì‚¬ìš©ì„± í–¥ìƒ.
âœ… **ì—ëŸ¬ ì²˜ë¦¬**ë¡œ ì‚¬ìš©ìì—ê²Œ ì¹œì ˆí•œ ì•ˆë‚´ì™€ ë¡œê¹… ê°€ëŠ¥.
âœ… **ë¦¬íŒ©í„°ë§**ìœ¼ë¡œ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± ê°•í™”.

ì´ ì„¸ ê°€ì§€ë¥¼ ì ìš©í•´ ë³´ë‹¤ ê²¬ê³ í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ Express ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. âœ¨
